{"version":3,"sources":["../../src/models/Task.js"],"names":["module","exports","Base","getCompletedTasks_","userId","connOpts","$query","assignedTo","status","$projection","findAll_","saveSelfCompletedTasks_","taskInfo","input","owner","create_"],"mappings":";;;;AACAA,MAAM,CAACC,OAAP,GAAkBC,IAAD,IAAU,cAAcA,IAAd,CAAmB;AACX,eAAlBC,kBAAkB,CAACC,MAAD,EAASC,QAAT,EAAmB;AAC9C,UAAMC,MAAM,GAAG;AACXC,MAAAA,UAAU,EAAEH,MADD;AAEXI,MAAAA,MAAM,EAAE;AAFG,KAAf;AAKA,UAAMC,WAAW,GAAG,CAChB,IADgB,EAEhB,MAFgB,EAGhB,YAHgB,EAIhB,gBAJgB,EAKhB,MALgB,EAMhB,MANgB,EAOhB,UAPgB,EAQhB,qBARgB,CAApB;AAWA,WAAO,KAAKC,QAAL,CAAc;AAAEJ,MAAAA,MAAF;AAAUG,MAAAA;AAAV,KAAd,EAAuCJ,QAAvC,CAAP;AACH;;AAEmC,eAAvBM,uBAAuB,CAACP,MAAD,EAASQ,QAAT,EAAmBP,QAAnB,EAA6B;AAC7D,UAAMQ,KAAK,GAAG,EACV,GAAGD,QADO;AAEVE,MAAAA,KAAK,EAAEV,MAFG;AAGVG,MAAAA,UAAU,EAAEH,MAHF;AAIVI,MAAAA,MAAM,EAAE;AAJE,KAAd;AAOA,WAAO,KAAKO,OAAL,CAAaF,KAAb,EAAoB,IAApB,EAA0BR,QAA1B,CAAP;AACH;;AA9ByC,CAA9C","sourcesContent":["\nmodule.exports = (Base) => class extends Base {\n    static async getCompletedTasks_(userId, connOpts) {\n        const $query = {\n            assignedTo: userId,\n            status: 'done'\n        };\n\n        const $projection = [\n            'id',\n            'type',\n            'isApproved',\n            'declinedReason',\n            'name',\n            'desc',\n            'metadata',\n            'statusDoneTimestamp'\n        ];\n\n        return this.findAll_({ $query, $projection }, connOpts);\n    }\n\n    static async saveSelfCompletedTasks_(userId, taskInfo, connOpts) {\n        const input = {\n            ...taskInfo,\n            owner: userId,\n            assignedTo: userId,\n            status: 'done'\n        }\n\n        return this.create_(input, null, connOpts);\n    }\n};\n"],"file":"Task.js"}