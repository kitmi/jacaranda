{"version":3,"sources":["../../../../src/modeler/dao/view/mysql.js"],"sourcesContent":["\"use strict\";\n\nconst AST = require('../../util/ast.js');\n\nmodule.exports = function (dbService, viewName, viewInfo) {\n    let spName = dbService.getViewSPName(viewName);\n    \n    return [\n        AST.astVarDeclare('viewData',\n            AST.astAwait('this.db.service.query', [AST.astValue('call `' + spName + '`(??);'), AST.astValue(viewInfo.params.map(p => AST.astVarRef(p.name)))]),\n            false, false, 'call stored procedure to get view data'\n        )\n    ];\n};"],"names":["AST","require","module","exports","dbService","viewName","viewInfo","spName","getViewSPName","astVarDeclare","astAwait","astValue","params","map","p","astVarRef","name"],"rangeMappings":";;;;;;;;;;","mappings":"AAAA;AAEA,MAAMA,MAAMC,QAAQ;AAEpBC,OAAOC,OAAO,GAAG,SAAUC,SAAS,EAAEC,QAAQ,EAAEC,QAAQ;IACpD,IAAIC,SAASH,UAAUI,aAAa,CAACH;IAErC,OAAO;QACHL,IAAIS,aAAa,CAAC,YACdT,IAAIU,QAAQ,CAAC,yBAAyB;YAACV,IAAIW,QAAQ,CAAC,WAAWJ,SAAS;YAAWP,IAAIW,QAAQ,CAACL,SAASM,MAAM,CAACC,GAAG,CAACC,CAAAA,IAAKd,IAAIe,SAAS,CAACD,EAAEE,IAAI;SAAI,GACjJ,OAAO,OAAO;KAErB;AACL"}