{"version":3,"sources":["../../src/utils/npmInstall_.js"],"sourcesContent":["const { cmd } = require(\"@genx/sys\");\n\nmodule.exports = async (app, targetPath, packages) => {\n    const lastCwd = process.cwd();\n    process.chdir(targetPath);\n\n    app.log(\"info\", \"Installing dependencies...\");\n\n    try {\n        await cmd.runLive_(\n            \"npm\",\n            [\"install\", ...(packages ?? [])],\n            (data) => {\n                app.log(\"verbose\", data.toString());\n            },\n            (data) => {\n                app.log(\"error\", data.toString());\n            }\n        );\n\n        app.log(\"info\", \"Installed all dependencies.\");\n    } finally {\n        process.chdir(lastCwd);\n    }\n};\n"],"names":["cmd","require","module","exports","app","targetPath","packages","lastCwd","process","cwd","chdir","log","runLive_","data","toString"],"rangeMappings":";;;;;;;;;;;;;;;;;;;","mappings":";AAAA,MAAM,EAAEA,GAAG,EAAE,GAAGC,QAAQ;AAExBC,OAAOC,OAAO,GAAG,OAAOC,KAAKC,YAAYC;IACrC,MAAMC,UAAUC,QAAQC,GAAG;IAC3BD,QAAQE,KAAK,CAACL;IAEdD,IAAIO,GAAG,CAAC,QAAQ;IAEhB,IAAI;QACA,MAAMX,IAAIY,QAAQ,CACd,OACA;YAAC;eAAeN,YAAY,EAAE;SAAE,EAChC,CAACO;YACGT,IAAIO,GAAG,CAAC,WAAWE,KAAKC,QAAQ;QACpC,GACA,CAACD;YACGT,IAAIO,GAAG,CAAC,SAASE,KAAKC,QAAQ;QAClC;QAGJV,IAAIO,GAAG,CAAC,QAAQ;IACpB,SAAU;QACNH,QAAQE,KAAK,CAACH;IAClB;AACJ"}