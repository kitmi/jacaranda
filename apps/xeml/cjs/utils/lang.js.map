{"version":3,"sources":["../../src/utils/lang.js"],"sourcesContent":["\"use strict\";\n\nconst { _ } = require('@genx/july');\n\nconst SupportedDrivers = [ 'mysql', 'mongodb', 'rabbitmq' ];\nconst JsPrimitiveTypes = new Set([ 'number', 'boolean', 'string', 'symbol', 'undefined' ]);\n\n/**\n * Merge two query conditions using given operator.\n * @param {*} condition1 \n * @param {*} condition2 \n * @param {*} operator \n * @returns {object}\n */\nfunction mergeCondition(condition1, condition2, operator = '$and') {        \n    if (_.isEmpty(condition1)) {\n        return condition2;\n    }\n\n    if (_.isEmpty(condition2)) {\n        return condition1;\n    }\n\n    return { [operator]: [ condition1, condition2 ] };\n}\n\nexports.isNothing = v => _.isNil(v) || _.isNaN(v);\nexports.isPrimitive = v => JsPrimitiveTypes.has(typeof v);\nexports.isQuoted = s => (s.startsWith(\"'\") || s.startsWith('\"')) && s[0] === s[s.length-1];\nexports.isQuotedWith = (s, q) => (s.startsWith(q) && s[0] === s[s.length-1]);\nexports.makeDataSourceName = (driver, schema) => (driver + '.' + schema);\nexports.extractDriverAndConnectorName = id => id.split('.');\nexports.mergeCondition = mergeCondition;\nexports.SupportedDrivers = Object.freeze(SupportedDrivers);\n "],"names":["_","require","SupportedDrivers","JsPrimitiveTypes","Set","mergeCondition","condition1","condition2","operator","isEmpty","exports","isNothing","v","isNil","isNaN","isPrimitive","has","isQuoted","s","startsWith","length","isQuotedWith","q","makeDataSourceName","driver","schema","extractDriverAndConnectorName","id","split","Object","freeze"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA;AAEA,MAAM,EAAEA,CAAC,EAAE,GAAGC,QAAQ;AAEtB,MAAMC,mBAAmB;IAAE;IAAS;IAAW;CAAY;AAC3D,MAAMC,mBAAmB,IAAIC,IAAI;IAAE;IAAU;IAAW;IAAU;IAAU;CAAa;AAEzF;;;;;;CAMC,GACD,SAASC,eAAeC,UAAU,EAAEC,UAAU,EAAEC,WAAW,MAAM;IAC7D,IAAIR,EAAES,OAAO,CAACH,aAAa;QACvB,OAAOC;IACX;IAEA,IAAIP,EAAES,OAAO,CAACF,aAAa;QACvB,OAAOD;IACX;IAEA,OAAO;QAAE,CAACE,SAAS,EAAE;YAAEF;YAAYC;SAAY;IAAC;AACpD;AAEAG,QAAQC,SAAS,GAAGC,CAAAA,IAAKZ,EAAEa,KAAK,CAACD,MAAMZ,EAAEc,KAAK,CAACF;AAC/CF,QAAQK,WAAW,GAAGH,CAAAA,IAAKT,iBAAiBa,GAAG,CAAC,OAAOJ;AACvDF,QAAQO,QAAQ,GAAGC,CAAAA,IAAK,AAACA,CAAAA,EAAEC,UAAU,CAAC,QAAQD,EAAEC,UAAU,CAAC,IAAG,KAAMD,CAAC,CAAC,EAAE,KAAKA,CAAC,CAACA,EAAEE,MAAM,GAAC,EAAE;AAC1FV,QAAQW,YAAY,GAAG,CAACH,GAAGI,IAAOJ,EAAEC,UAAU,CAACG,MAAMJ,CAAC,CAAC,EAAE,KAAKA,CAAC,CAACA,EAAEE,MAAM,GAAC,EAAE;AAC3EV,QAAQa,kBAAkB,GAAG,CAACC,QAAQC,SAAYD,SAAS,MAAMC;AACjEf,QAAQgB,6BAA6B,GAAGC,CAAAA,KAAMA,GAAGC,KAAK,CAAC;AACvDlB,QAAQL,cAAc,GAAGA;AACzBK,QAAQR,gBAAgB,GAAG2B,OAAOC,MAAM,CAAC5B"}