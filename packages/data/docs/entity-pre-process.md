# Entity pre-process system

The pre-process is automatically generated by Modeler into a piece of code using the combination of modifiers pipeline i.e., a sequence of Activators, Validators and Processors defined in each field’s metadata.

## Modifiers

- **Activator**

A function to generate a new value when the target value is null or `forceUpdate` is set in the field's metadata.

- **Processor**

A function to make some transformation on the target value and return the transformed value.

- **Validator**

A function to validate the target value and break the pipeline if any validation fails.

## Implementation rules

- When a validator fails, it will break the whole process.
- The modeler infers sync and async calling by whether the modifier ending with an underscore or not.
- Modifier’s arguments are also prepared by the modeler according to the declaration of the argument which may reference to other fields in the same entity.
- Modifier can refer to the existing value of a field or the latest value to update.
- Modeler will generate the process flow according to the dependencies implied in the cross reference by using topological sorting.
- Modifiers are reusable and pluggable through adding into the registry.
- The pipeline will take the whole entity into consideration rather than a field. Therefore, it may advance to process a modifier of another field from a certain field according to the order computed by topo sorting mentioned above.