{"version":3,"sources":["../../src/utils/download.js"],"sourcesContent":["const path = require('path');\nconst { fs, tryRequire } = require('@genx/sys');\n\nmodule.exports = async (url, targetFile) => {\n    const request = tryRequire('superagent');\n\n    const dirName = path.dirname(targetFile);\n\n    await fs.ensureDir(dirName);\n\n    const stream = fs.createWriteStream(targetFile);\n\n    await new Promise((resolve, reject) => {\n        stream.on('close', () => {\n            resolve();\n        });\n\n        stream.on('error', (err) => {\n            reject(err);\n        });\n\n        request.get(url).pipe(stream);\n    });\n};\n"],"names":["path","require","fs","tryRequire","module","exports","url","targetFile","request","dirName","dirname","ensureDir","stream","createWriteStream","Promise","resolve","reject","on","err","get","pipe"],"rangeMappings":";;;;;;;;;;;;;;;;;","mappings":";AAAA,MAAMA,OAAOC,QAAQ;AACrB,MAAM,EAAEC,EAAE,EAAEC,UAAU,EAAE,GAAGF,QAAQ;AAEnCG,OAAOC,OAAO,GAAG,OAAOC,KAAKC;IACzB,MAAMC,UAAUL,WAAW;IAE3B,MAAMM,UAAUT,KAAKU,OAAO,CAACH;IAE7B,MAAML,GAAGS,SAAS,CAACF;IAEnB,MAAMG,SAASV,GAAGW,iBAAiB,CAACN;IAEpC,MAAM,IAAIO,QAAQ,CAACC,SAASC;QACxBJ,OAAOK,EAAE,CAAC,SAAS;YACfF;QACJ;QAEAH,OAAOK,EAAE,CAAC,SAAS,CAACC;YAChBF,OAAOE;QACX;QAEAV,QAAQW,GAAG,CAACb,KAAKc,IAAI,CAACR;IAC1B;AACJ"}