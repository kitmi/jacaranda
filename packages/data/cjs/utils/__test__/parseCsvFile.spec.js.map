{"version":3,"sources":["../../../src/utils/__test__/parseCsvFile.spec.js"],"sourcesContent":["'use strict';\n\nconst path = require('path');\nconst parseCsvFile = require('../parseCsvFile');\n\nconst csvFile = path.resolve(__dirname, '../../../test/files/australia.csv');\n\ndescribe('unit:parseCsvFile', function () {    \n    it('parse csv', async function () {\n        let result = await parseCsvFile(csvFile);\n        result.length.should.be.exactly(70);\n        result[69].ticker.should.be.equal('BTCA');\n    });\n\n    it('parse csv with transform stream', async function () {\n        let result = [];\n\n        await parseCsvFile(csvFile, null, async (record, line) => {\n            result.push({ id: line, ...record });\n        });\n        result.length.should.be.exactly(70);\n        result[69].ticker.should.be.equal('BTCA');\n        result[69].id.should.be.exactly(69);\n    });\n});"],"names":["path","require","parseCsvFile","csvFile","resolve","__dirname","describe","it","result","length","should","be","exactly","ticker","equal","record","line","push","id"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA;AAEA,MAAMA,OAAOC,QAAQ;AACrB,MAAMC,eAAeD,QAAQ;AAE7B,MAAME,UAAUH,KAAKI,OAAO,CAACC,WAAW;AAExCC,SAAS,qBAAqB;IAC1BC,GAAG,aAAa;QACZ,IAAIC,SAAS,MAAMN,aAAaC;QAChCK,OAAOC,MAAM,CAACC,MAAM,CAACC,EAAE,CAACC,OAAO,CAAC;QAChCJ,MAAM,CAAC,GAAG,CAACK,MAAM,CAACH,MAAM,CAACC,EAAE,CAACG,KAAK,CAAC;IACtC;IAEAP,GAAG,mCAAmC;QAClC,IAAIC,SAAS,EAAE;QAEf,MAAMN,aAAaC,SAAS,MAAM,OAAOY,QAAQC;YAC7CR,OAAOS,IAAI,CAAC;gBAAEC,IAAIF;gBAAM,GAAGD,MAAM;YAAC;QACtC;QACAP,OAAOC,MAAM,CAACC,MAAM,CAACC,EAAE,CAACC,OAAO,CAAC;QAChCJ,MAAM,CAAC,GAAG,CAACK,MAAM,CAACH,MAAM,CAACC,EAAE,CAACG,KAAK,CAAC;QAClCN,MAAM,CAAC,GAAG,CAACU,EAAE,CAACR,MAAM,CAACC,EAAE,CAACC,OAAO,CAAC;IACpC;AACJ"}