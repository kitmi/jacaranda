{"version":3,"sources":["../src/integer.js"],"sourcesContent":["import { ValidationError } from './errors';\nimport toInteger from '@galaxar/utils/toInteger';\nimport { identity } from './functions';\n\nclass T_INTEGER {\n    name = 'integer';\n    alias = ['int'];\n    primitive = true;\n    scalar = true;\n    defaultValue = 0;\n\n    constructor(system) {\n        this.system = system;\n    }\n\n    validate(value) {\n        return typeof value === 'number' && Number.isInteger(value);\n    }\n\n    _sanitize(value, meta, opts) {\n        value = toInteger(value);\n\n        if (isNaN(value)) {\n            throw new ValidationError('Invalid integer value.', {\n                value: null,\n                meta,\n                rawValue: opts.rawValue,\n                i18n: opts.i18n,\n                path: opts.path,\n            });\n        }\n\n        return value;\n    }\n\n    serialize = identity;\n}\n\nexport default T_INTEGER;\n"],"names":["T_INTEGER","validate","value","Number","isInteger","_sanitize","meta","opts","toInteger","isNaN","ValidationError","rawValue","i18n","path","constructor","system","name","alias","primitive","scalar","defaultValue","serialize","identity"],"mappings":";;;;+BAsCA;;;eAAA;;;wBAtCgC;kEACV;2BACG;;;;;;;;;;;;;;;;;;;AAEzB,MAAMA;IAWFC,SAASC,KAAK,EAAE;QACZ,OAAO,OAAOA,UAAU,YAAYC,OAAOC,SAAS,CAACF;IACzD;IAEAG,UAAUH,KAAK,EAAEI,IAAI,EAAEC,IAAI,EAAE;QACzBL,QAAQM,IAAAA,kBAAS,EAACN;QAElB,IAAIO,MAAMP,QAAQ;YACd,MAAM,IAAIQ,uBAAe,CAAC,0BAA0B;gBAChDR,OAAO;gBACPI;gBACAK,UAAUJ,KAAKI,QAAQ;gBACvBC,MAAML,KAAKK,IAAI;gBACfC,MAAMN,KAAKM,IAAI;YACnB;QACJ;QAEA,OAAOX;IACX;IAtBAY,YAAYC,MAAM,CAAE;QANpBC,uBAAAA,QAAO;QACPC,uBAAAA,SAAQ;YAAC;SAAM;QACfC,uBAAAA,aAAY;QACZC,uBAAAA,UAAS;QACTC,uBAAAA,gBAAe;QA0BfC,uBAAAA,aAAYC,mBAAQ;QAvBhB,IAAI,CAACP,MAAM,GAAGA;IAClB;AAuBJ;MAEA,WAAef"}