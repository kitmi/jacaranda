{"version":3,"sources":["../src/bigint.js"],"sourcesContent":["import { ValidationError } from './errors';\n\nclass T_BIGINT {\n    name = 'bigint';\n    alias = ['biginteger'];\n    primitive = true;\n    scalar = true;\n    defaultValue = 0n;\n\n    constructor(system) {\n        this.system = system;\n    }\n\n    validate(value) {\n        return typeof value === 'bigint';\n    }\n\n    _sanitize(value, meta, opts) {\n        try {\n            value = BigInt(value);\n        } catch (e) {\n            throw new ValidationError(\n                'Invalid bigint value.',\n                {\n                    value,\n                    meta,\n                    rawValue: opts.rawValue,\n                    i18n: opts.i18n,\n                    path: opts.path,\n                    error: e.message\n                }\n            );\n        }\n\n        return value;\n    }\n\n    serialize(value) {\n        return value == null\n            ? null\n            : this.system.plugins.bigintWriter\n            ? this.system.plugins.bigintWriter(value)\n            : value.toString();\n    }\n}\n\nexport default T_BIGINT;\n"],"names":["T_BIGINT","validate","value","_sanitize","meta","opts","BigInt","e","ValidationError","rawValue","i18n","path","error","message","serialize","system","plugins","bigintWriter","toString","constructor","name","alias","primitive","scalar","defaultValue"],"mappings":";;;;+BA8CA;;;eAAA;;;wBA9CgC;;;;;;;;;;;;;;AAEhC,MAAMA;IAWFC,SAASC,KAAK,EAAE;QACZ,OAAO,OAAOA,UAAU;IAC5B;IAEAC,UAAUD,KAAK,EAAEE,IAAI,EAAEC,IAAI,EAAE;QACzB,IAAI;YACAH,QAAQI,OAAOJ;QACnB,EAAE,OAAOK,GAAG;YACR,MAAM,IAAIC,uBAAe,CACrB,yBACA;gBACIN;gBACAE;gBACAK,UAAUJ,KAAKI,QAAQ;gBACvBC,MAAML,KAAKK,IAAI;gBACfC,MAAMN,KAAKM,IAAI;gBACfC,OAAOL,EAAEM,OAAO;YACpB;QAER;QAEA,OAAOX;IACX;IAEAY,UAAUZ,KAAK,EAAE;QACb,OAAOA,SAAS,OACV,OACA,IAAI,CAACa,MAAM,CAACC,OAAO,CAACC,YAAY,GAChC,IAAI,CAACF,MAAM,CAACC,OAAO,CAACC,YAAY,CAACf,SACjCA,MAAMgB,QAAQ;IACxB;IAlCAC,YAAYJ,MAAM,CAAE;QANpBK,uBAAAA,QAAO;QACPC,uBAAAA,SAAQ;YAAC;SAAa;QACtBC,uBAAAA,aAAY;QACZC,uBAAAA,UAAS;QACTC,uBAAAA,gBAAe,EAAE;QAGb,IAAI,CAACT,MAAM,GAAGA;IAClB;AAiCJ;MAEA,WAAef"}