{"version":3,"sources":["../../src/errors/HttpErrors.js"],"sourcesContent":["import { GeneralError, ExposableError, ApplicationError } from './AppErrors';\nimport { ValidationError } from './DataErrors';\nimport HttpCode from './HttpCode';\n\n/**\n * HTTP errors.\n * @module HttpErrors\n */\n\n/**\n * Request errors.\n * @class\n * @extends ValidationError\n */\nexport class BadRequest extends ValidationError {\n    constructor(message, info) {\n        super(message, info);\n        this.code = 'E_BAD_REQUEST';\n    }\n}\n\n/**\n * Http NotFound, 404.\n * @class\n * @extends ExposableError\n */\nexport class NotFound extends ExposableError {\n    constructor(message, info) {\n        super(message, info, HttpCode.NOT_FOUND, 'E_NOT_FOUND');\n    }\n}\n\n/**\n * Http Unauthorized, 401.\n * @class\n * @extends ExposableError\n *\n * 401 UNAUTHORIZED vs 403 FORBIDDEN (refer to explanation from Daniel Irvine)\n * 401 It’s for authentication, not authorization.\n * Receiving a 401 response is the server telling you, “you aren’t authenticated–either not authenticated at all or authenticated incorrectly–but please reauthenticate and try again.”\n * To help you out, it will always include a WWW-Authenticate header that describes how to authenticate.\n */\nexport class Unauthorized extends ExposableError {\n    constructor(message, info) {\n        super(message, info, HttpCode.UNAUTHORIZED, 'E_UNAUTHENTICATED');\n    }\n}\n\n/**\n * Http Forbidden, 403.\n * @class\n * @extends ExposableError\n *\n * 401 UNAUTHORIZED vs 403 FORBIDDEN (refer to explanation from Daniel Irvine)\n * Receiving a 403 response is the server telling you, “I’m sorry. I know who you are–I believe who you say you are–but you just don’t have permission to access this resource. Maybe if you ask the system administrator nicely, you’ll get permission. But please don’t bother me again until your predicament changes.”\n * In summary, a 401 Unauthorized response should be used for missing or bad authentication, and a 403 Forbidden response should be used afterwards, when the user is authenticated but isn’t authorized to perform the requested operation on the given resource.\n */\nexport class Forbidden extends ExposableError {\n    constructor(message, info) {\n        super(message, info, HttpCode.FORBIDDEN, 'E_FORBIDDEN');\n    }\n}\n\n/**\n * Service unavailable error, 503\n * @class\n * @extends GeneralError\n */\nexport class ServiceUnavailable extends GeneralError {\n    constructor(message, info) {\n        super(message, info, HttpCode.SERVICE_UNAVAILABLE, 'E_UNAVAILABLE');\n    }\n}\n\n/**\n * External server error, 503\n * @class\n * @extends GeneralError\n */\nexport class ExternalServiceError extends GeneralError {\n    constructor(message, info) {\n        super(message, info, HttpCode.SERVICE_UNAVAILABLE, 'E_EXTERNAL');\n    }\n}\n\n/**\n * Internal server error, 500\n * @class\n * @extends ApplicationError\n */\nexport class ServerError extends ApplicationError {\n    constructor(message, info) {\n        super(message, info, 'E_SERVER');\n    }\n}\n\nexport const Unauthenticated = Unauthorized; // try use Unauthenticated instead of Unauthorized for better expressing the error in code\n\nexport const PermissionDenied = Forbidden;\n"],"names":["BadRequest","ExternalServiceError","Forbidden","NotFound","PermissionDenied","ServerError","ServiceUnavailable","Unauthenticated","Unauthorized","ValidationError","constructor","message","info","code","ExposableError","HttpCode","NOT_FOUND","UNAUTHORIZED","FORBIDDEN","GeneralError","SERVICE_UNAVAILABLE","ApplicationError"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAcaA,UAAU;eAAVA;;IAiEAC,oBAAoB;eAApBA;;IAtBAC,SAAS;eAATA;;IA/BAC,QAAQ;eAARA;;IAwEAC,gBAAgB;eAAhBA;;IARAC,WAAW;eAAXA;;IAtBAC,kBAAkB;eAAlBA;;IA4BAC,eAAe;eAAfA;;IAtDAC,YAAY;eAAZA;;;2BA1CkD;4BAC/B;iEACX;;;;;;AAYd,MAAMR,mBAAmBS,2BAAe;IAC3CC,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC;QACf,IAAI,CAACC,IAAI,GAAG;IAChB;AACJ;AAOO,MAAMV,iBAAiBW,yBAAc;IACxCJ,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC,MAAMG,iBAAQ,CAACC,SAAS,EAAE;IAC7C;AACJ;AAYO,MAAMR,qBAAqBM,yBAAc;IAC5CJ,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC,MAAMG,iBAAQ,CAACE,YAAY,EAAE;IAChD;AACJ;AAWO,MAAMf,kBAAkBY,yBAAc;IACzCJ,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC,MAAMG,iBAAQ,CAACG,SAAS,EAAE;IAC7C;AACJ;AAOO,MAAMZ,2BAA2Ba,uBAAY;IAChDT,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC,MAAMG,iBAAQ,CAACK,mBAAmB,EAAE;IACvD;AACJ;AAOO,MAAMnB,6BAA6BkB,uBAAY;IAClDT,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC,MAAMG,iBAAQ,CAACK,mBAAmB,EAAE;IACvD;AACJ;AAOO,MAAMf,oBAAoBgB,2BAAgB;IAC7CX,YAAYC,OAAO,EAAEC,IAAI,CAAE;QACvB,KAAK,CAACD,SAASC,MAAM;IACzB;AACJ;AAEO,MAAML,kBAAkBC,cAAc,0FAA0F;AAEhI,MAAMJ,mBAAmBF"}