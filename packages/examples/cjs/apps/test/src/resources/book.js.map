{"version":3,"sources":["../../../../../src/apps/test/src/resources/book.js"],"sourcesContent":["import { _ } from '@kitmi/utils';\n\nlet books = [\n    { id: 1, title: 'Book 1' },\n    { id: 2, title: 'Book 2' },\n];\nlet maxid = 2;\n\nexport default {\n    list: (ctx) => {\n        ctx.body = books;\n    },\n\n    create: (ctx) => {\n        let newBook = { id: ++maxid, title: ctx.request.body.title };\n        books.push(newBook);\n        ctx.body = newBook;\n    },\n\n    detail: (ctx) => {\n        let id = ctx.params.id;\n        ctx.body = _.find(books, (book) => book.id == id) || {};\n    },\n\n    update: (ctx) => {\n        let id = ctx.params.id;\n        let bookFound = _.find(books, (book) => book.id == id);\n\n        bookFound.title = ctx.request.body.title;\n        ctx.body = bookFound;\n    },\n\n    remove: (ctx) => {\n        let id = ctx.params.id;\n        let idx = _.findIndex(books, (book) => book.id == id);\n        ctx.body = books.splice(idx, 1)[0];\n    },\n};\n"],"names":["books","id","title","maxid","list","ctx","body","create","newBook","request","push","detail","params","_","find","book","update","bookFound","remove","idx","findIndex","splice"],"mappings":";;;;+BAQA;;;eAAA;;;uBARkB;AAElB,IAAIA,QAAQ;IACR;QAAEC,IAAI;QAAGC,OAAO;IAAS;IACzB;QAAED,IAAI;QAAGC,OAAO;IAAS;CAC5B;AACD,IAAIC,QAAQ;MAEZ,WAAe;IACXC,MAAM,CAACC;QACHA,IAAIC,IAAI,GAAGN;IACf;IAEAO,QAAQ,CAACF;QACL,IAAIG,UAAU;YAAEP,IAAI,EAAEE;YAAOD,OAAOG,IAAII,OAAO,CAACH,IAAI,CAACJ,KAAK;QAAC;QAC3DF,MAAMU,IAAI,CAACF;QACXH,IAAIC,IAAI,GAAGE;IACf;IAEAG,QAAQ,CAACN;QACL,IAAIJ,KAAKI,IAAIO,MAAM,CAACX,EAAE;QACtBI,IAAIC,IAAI,GAAGO,QAAC,CAACC,IAAI,CAACd,OAAO,CAACe,OAASA,KAAKd,EAAE,IAAIA,OAAO,CAAC;IAC1D;IAEAe,QAAQ,CAACX;QACL,IAAIJ,KAAKI,IAAIO,MAAM,CAACX,EAAE;QACtB,IAAIgB,YAAYJ,QAAC,CAACC,IAAI,CAACd,OAAO,CAACe,OAASA,KAAKd,EAAE,IAAIA;QAEnDgB,UAAUf,KAAK,GAAGG,IAAII,OAAO,CAACH,IAAI,CAACJ,KAAK;QACxCG,IAAIC,IAAI,GAAGW;IACf;IAEAC,QAAQ,CAACb;QACL,IAAIJ,KAAKI,IAAIO,MAAM,CAACX,EAAE;QACtB,IAAIkB,MAAMN,QAAC,CAACO,SAAS,CAACpB,OAAO,CAACe,OAASA,KAAKd,EAAE,IAAIA;QAClDI,IAAIC,IAAI,GAAGN,MAAMqB,MAAM,CAACF,KAAK,EAAE,CAAC,EAAE;IACtC;AACJ"}