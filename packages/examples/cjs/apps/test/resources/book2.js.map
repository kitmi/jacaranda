{"version":3,"sources":["../../../../src/apps/test/resources/book2.js"],"sourcesContent":["import { _ } from '@galaxar/utils';\n\nclass BookController {\n    books = [ { id: 1, title: 'Book 1' }, { id: 2, title: 'Book 2' } ];\n    maxid = 2;\n\n    query(ctx) {\n        ctx.body = this.books;\n    }\n    \n    create(ctx) {\n        let newBook = {id: ++this.maxid, title: ctx.request.body.title};\n        this.books.push(newBook);\n        ctx.body = newBook;\n    }\n    \n    detail(ctx) {\n        let id = ctx.params.id;\n        ctx.body =  _.find(this.books, book => book.id == id) || {};\n    }\n    \n    update(ctx) {\n        let id = ctx.params.id;\n        let bookFound = _.find(this.books, book => book.id == id);\n    \n        bookFound.title = ctx.request.body.title;\n        ctx.body =  bookFound;\n    }\n    \n    remove(ctx) {\n        let id = ctx.params.id;\n        let idx = _.findIndex(this.books, book => book.id == id);\n        ctx.body = this.books.splice(idx, 1)[0];\n    }\n}\n\nexport default BookController;\n"],"names":["BookController","query","ctx","body","books","create","newBook","id","maxid","title","request","push","detail","params","_","find","book","update","bookFound","remove","idx","findIndex","splice"],"mappings":";;;;+BAoCA;;;eAAA;;;uBApCkB;;;;;;;;;;;;;;AAElB,MAAMA;IAIFC,MAAMC,GAAG,EAAE;QACPA,IAAIC,IAAI,GAAG,IAAI,CAACC,KAAK;IACzB;IAEAC,OAAOH,GAAG,EAAE;QACR,IAAII,UAAU;YAACC,IAAI,EAAE,IAAI,CAACC,KAAK;YAAEC,OAAOP,IAAIQ,OAAO,CAACP,IAAI,CAACM,KAAK;QAAA;QAC9D,IAAI,CAACL,KAAK,CAACO,IAAI,CAACL;QAChBJ,IAAIC,IAAI,GAAGG;IACf;IAEAM,OAAOV,GAAG,EAAE;QACR,IAAIK,KAAKL,IAAIW,MAAM,CAACN,EAAE;QACtBL,IAAIC,IAAI,GAAIW,QAAC,CAACC,IAAI,CAAC,IAAI,CAACX,KAAK,EAAEY,CAAAA,OAAQA,KAAKT,EAAE,IAAIA,OAAO,CAAC;IAC9D;IAEAU,OAAOf,GAAG,EAAE;QACR,IAAIK,KAAKL,IAAIW,MAAM,CAACN,EAAE;QACtB,IAAIW,YAAYJ,QAAC,CAACC,IAAI,CAAC,IAAI,CAACX,KAAK,EAAEY,CAAAA,OAAQA,KAAKT,EAAE,IAAIA;QAEtDW,UAAUT,KAAK,GAAGP,IAAIQ,OAAO,CAACP,IAAI,CAACM,KAAK;QACxCP,IAAIC,IAAI,GAAIe;IAChB;IAEAC,OAAOjB,GAAG,EAAE;QACR,IAAIK,KAAKL,IAAIW,MAAM,CAACN,EAAE;QACtB,IAAIa,MAAMN,QAAC,CAACO,SAAS,CAAC,IAAI,CAACjB,KAAK,EAAEY,CAAAA,OAAQA,KAAKT,EAAE,IAAIA;QACrDL,IAAIC,IAAI,GAAG,IAAI,CAACC,KAAK,CAACkB,MAAM,CAACF,KAAK,EAAE,CAAC,EAAE;IAC3C;;QA9BAhB,uBAAAA,SAAQ;YAAE;gBAAEG,IAAI;gBAAGE,OAAO;YAAS;YAAG;gBAAEF,IAAI;gBAAGE,OAAO;YAAS;SAAG;QAClED,uBAAAA,SAAQ;;AA8BZ;MAEA,WAAeR"}