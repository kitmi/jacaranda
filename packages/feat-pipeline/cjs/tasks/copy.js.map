{"version":3,"sources":["../../src/tasks/copy.js"],"sourcesContent":["import { Types } from '@kitmi/validators/allSync';\nimport { _ } from '@kitmi/utils';\n\nexport default function copy(step, settings) {\n    let { input, filter } = Types.OBJECT.sanitize(settings, {\n        schema: {\n            input: { type: 'text' },\n            filter: { type: 'array', optional: true },\n        },\n    });\n\n    let result = step.getValue(input);\n\n    if (filter) {\n        result = _.omit(result, filter);        \n    }\n\n    step.setData(result);\n\n    step.syslog('info', `Copied from \"${input}\"${filter ? ' and filtered' : ''}.`, {\n        result,\n    });\n\n    return result;\n}\n"],"names":["copy","step","settings","input","filter","Types","OBJECT","sanitize","schema","type","optional","result","getValue","_","omit","setData","syslog"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAGA;;;eAAwBA;;;yBAHF;uBACJ;AAEH,SAASA,KAAKC,IAAI,EAAEC,QAAQ;IACvC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAE,GAAGC,cAAK,CAACC,MAAM,CAACC,QAAQ,CAACL,UAAU;QACpDM,QAAQ;YACJL,OAAO;gBAAEM,MAAM;YAAO;YACtBL,QAAQ;gBAAEK,MAAM;gBAASC,UAAU;YAAK;QAC5C;IACJ;IAEA,IAAIC,SAASV,KAAKW,QAAQ,CAACT;IAE3B,IAAIC,QAAQ;QACRO,SAASE,QAAC,CAACC,IAAI,CAACH,QAAQP;IAC5B;IAEAH,KAAKc,OAAO,CAACJ;IAEbV,KAAKe,MAAM,CAAC,QAAQ,CAAC,aAAa,EAAEb,MAAM,CAAC,EAAEC,SAAS,kBAAkB,GAAG,CAAC,CAAC,EAAE;QAC3EO;IACJ;IAEA,OAAOA;AACX"}