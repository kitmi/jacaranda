{"version":3,"sources":["../src/injectAll.js"],"sourcesContent":["import { createJSX } from '@kitmi/jsonx';\nimport en from '@kitmi/jsonv/locale/en';\n\nimport text from './validators/text';\n\nimport commonValidators from './validators/common';\nimport commonProcessors from './processors/common';\nimport commonActivators from './activators/common';\n\nconst JSX = createJSX();\nconst JSV = JSX.JSV;\n\nJSV.config.loadMessages('en', en).setLocale('en');\n\nconst jsx = (value, options, meta, context) => JSX.evaluate(value, options, { path: context.path });\nconst jsv = (value, options, meta, context) => JSV.match(value, options, null, { path: context.path });\n\nconst injectAll = (typeSystem) => {\n    typeSystem.addValidator('jsv', jsv);\n    typeSystem.addModifiers('validator', text);\n    typeSystem.addModifiers('validator', commonValidators);\n\n    typeSystem.addProcessor('jsx', jsx);\n    typeSystem.addModifiers('processor', commonProcessors);\n\n    typeSystem.addModifiers('activator', commonActivators);\n\n    typeSystem.jsvConfig = JSV.config;\n};\n\nexport default injectAll;\n"],"names":["JSX","createJSX","JSV","config","loadMessages","en","setLocale","jsx","value","options","meta","context","evaluate","path","jsv","match","injectAll","typeSystem","addValidator","addModifiers","text","commonValidators","addProcessor","commonProcessors","commonActivators","jsvConfig"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA8BA;;;eAAA;;;uBA9B0B;2DACX;6DAEE;+DAEY;gEACA;gEACA;;;;;;AAE7B,MAAMA,MAAMC,IAAAA,gBAAS;AACrB,MAAMC,MAAMF,IAAIE,GAAG;AAEnBA,IAAIC,MAAM,CAACC,YAAY,CAAC,MAAMC,WAAE,EAAEC,SAAS,CAAC;AAE5C,MAAMC,MAAM,CAACC,OAAOC,SAASC,MAAMC,UAAYX,IAAIY,QAAQ,CAACJ,OAAOC,SAAS;QAAEI,MAAMF,QAAQE,IAAI;IAAC;AACjG,MAAMC,MAAM,CAACN,OAAOC,SAASC,MAAMC,UAAYT,IAAIa,KAAK,CAACP,OAAOC,SAAS,MAAM;QAAEI,MAAMF,QAAQE,IAAI;IAAC;AAEpG,MAAMG,YAAY,CAACC;IACfA,WAAWC,YAAY,CAAC,OAAOJ;IAC/BG,WAAWE,YAAY,CAAC,aAAaC,aAAI;IACzCH,WAAWE,YAAY,CAAC,aAAaE,eAAgB;IAErDJ,WAAWK,YAAY,CAAC,OAAOf;IAC/BU,WAAWE,YAAY,CAAC,aAAaI,gBAAgB;IAErDN,WAAWE,YAAY,CAAC,aAAaK,gBAAgB;IAErDP,WAAWQ,SAAS,GAAGvB,IAAIC,MAAM;AACrC;MAEA,WAAea"}