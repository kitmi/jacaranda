{"version":3,"sources":["../../src/serverFeatures/hono.js"],"sourcesContent":["import Feature from '../Feature';\n\nexport default {\n    stage: Feature.INIT,\n\n    packages: ['hono', '@hono/node-server'],\n\n    load_: async function (app, options, name) {\n        options = server.featureConfig(\n            options ?? {},\n            {\n                schema: {\n                    trustProxy: { type: 'boolean', optional: true },\n                    subdomainOffset: { type: 'integer', optional: true, post: [['~min', 2]] },\n                    port: { type: 'integer', optional: true, default: 2331 },\n                    keys: [\n                        {\n                            type: 'text',\n                        },\n                        {\n                            type: 'array',\n                            optional: true,\n                            element: { type: 'text' },\n                            post: [['~minLength', 1]],\n                        },\n                    ],\n                },\n            },\n            name\n        );\n\n        const { hono: HonoEngine } = server.tryRequire('@kitmi/adapters');\n\n        server.addMiddlewaresRegistry({\n            \n        });\n\n        server.engine = new HonoEngine(server);\n        await server.engine.init_(options);\n    },\n};\n"],"names":["stage","Feature","INIT","packages","load_","app","options","name","server","featureConfig","schema","trustProxy","type","optional","subdomainOffset","post","port","default","keys","element","hono","HonoEngine","tryRequire","addMiddlewaresRegistry","engine","init_"],"mappings":";;;;+BAEA;;;eAAA;;;gEAFoB;;;;;;MAEpB,WAAe;IACXA,OAAOC,gBAAO,CAACC,IAAI;IAEnBC,UAAU;QAAC;QAAQ;KAAoB;IAEvCC,OAAO,eAAgBC,GAAG,EAAEC,OAAO,EAAEC,IAAI;QACrCD,UAAUE,OAAOC,aAAa,CAC1BH,WAAW,CAAC,GACZ;YACII,QAAQ;gBACJC,YAAY;oBAAEC,MAAM;oBAAWC,UAAU;gBAAK;gBAC9CC,iBAAiB;oBAAEF,MAAM;oBAAWC,UAAU;oBAAME,MAAM;wBAAC;4BAAC;4BAAQ;yBAAE;qBAAC;gBAAC;gBACxEC,MAAM;oBAAEJ,MAAM;oBAAWC,UAAU;oBAAMI,SAAS;gBAAK;gBACvDC,MAAM;oBACF;wBACIN,MAAM;oBACV;oBACA;wBACIA,MAAM;wBACNC,UAAU;wBACVM,SAAS;4BAAEP,MAAM;wBAAO;wBACxBG,MAAM;4BAAC;gCAAC;gCAAc;6BAAE;yBAAC;oBAC7B;iBACH;YACL;QACJ,GACAR;QAGJ,MAAM,EAAEa,MAAMC,UAAU,EAAE,GAAGb,OAAOc,UAAU,CAAC;QAE/Cd,OAAOe,sBAAsB,CAAC,CAE9B;QAEAf,OAAOgB,MAAM,GAAG,IAAIH,WAAWb;QAC/B,MAAMA,OAAOgB,MAAM,CAACC,KAAK,CAACnB;IAC9B;AACJ"}