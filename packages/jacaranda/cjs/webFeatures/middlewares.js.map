{"version":3,"sources":["../../src/webFeatures/middlewares.js"],"sourcesContent":["/**\n * Enable middlewares\n * @module Feature_Middlewares\n */\n\nimport Feature from '../Feature';\n\nexport default {\n    /**\n     * This feature is loaded at plugin stage\n     * @member {string}\n     */\n    stage: Feature.PLUGIN,\n\n    /**\n     * Load the feature\n     * @param {Routable} app - The app module object\n     * @param {*} middlewares - Middlewares and options\n     * @returns {Promise.<*>}\n     */\n    load_: async function (app, middlewares) {\n        if (app.router == null) {\n            // if mount to server level\n            app.createServerModuleRouter();\n        }\n\n        await app.useMiddlewares_(app.router, middlewares);\n    },\n};\n"],"names":["stage","Feature","PLUGIN","load_","app","middlewares","router","createServerModuleRouter","useMiddlewares_"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"AAAA;;;CAGC;;;;+BAID;;;eAAA;;;gEAFoB;;;;;;MAEpB,WAAe;IACX;;;KAGC,GACDA,OAAOC,gBAAO,CAACC,MAAM;IAErB;;;;;KAKC,GACDC,OAAO,eAAgBC,GAAG,EAAEC,WAAW;QACnC,IAAID,IAAIE,MAAM,IAAI,MAAM;YACpB,2BAA2B;YAC3BF,IAAIG,wBAAwB;QAChC;QAEA,MAAMH,IAAII,eAAe,CAACJ,IAAIE,MAAM,EAAED;IAC1C;AACJ"}