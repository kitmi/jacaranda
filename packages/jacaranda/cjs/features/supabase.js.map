{"version":3,"sources":["../../src/features/supabase.js"],"sourcesContent":["import Feature from '../Feature';\n\nexport default {\n    stage: Feature.SERVICE,\n\n    groupable: true,\n\n    packages: ['@supabase/supabase-js'],\n\n    load_: async function (app, options, name) {\n        const { url, privateKey } = app.featureConfig(\n            options,\n            {\n                schema: {\n                    url: { type: 'text' },\n                    privateKey: { type: 'text' },\n                },\n            },\n            name\n        );\n\n        const { createClient } = await app.tryRequire_('@supabase/supabase-js');\n\n        const client = createClient(url, privateKey, { auth: { persistSession: false } });\n\n        app.registerService(name, client);\n    },\n};\n"],"names":["stage","Feature","SERVICE","groupable","packages","load_","app","options","name","url","privateKey","featureConfig","schema","type","createClient","tryRequire_","client","auth","persistSession","registerService"],"mappings":";;;;+BAEA;;;eAAA;;;gEAFoB;;;;;;MAEpB,WAAe;IACXA,OAAOC,gBAAO,CAACC,OAAO;IAEtBC,WAAW;IAEXC,UAAU;QAAC;KAAwB;IAEnCC,OAAO,eAAgBC,GAAG,EAAEC,OAAO,EAAEC,IAAI;QACrC,MAAM,EAAEC,GAAG,EAAEC,UAAU,EAAE,GAAGJ,IAAIK,aAAa,CACzCJ,SACA;YACIK,QAAQ;gBACJH,KAAK;oBAAEI,MAAM;gBAAO;gBACpBH,YAAY;oBAAEG,MAAM;gBAAO;YAC/B;QACJ,GACAL;QAGJ,MAAM,EAAEM,YAAY,EAAE,GAAG,MAAMR,IAAIS,WAAW,CAAC;QAE/C,MAAMC,SAASF,aAAaL,KAAKC,YAAY;YAAEO,MAAM;gBAAEC,gBAAgB;YAAM;QAAE;QAE/EZ,IAAIa,eAAe,CAACX,MAAMQ;IAC9B;AACJ"}