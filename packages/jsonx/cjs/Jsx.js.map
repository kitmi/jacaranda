{"version":3,"sources":["../src/Jsx.js"],"sourcesContent":["import config from './config';\nimport loadMoreTransformers from './transformers';\nimport { createJSV, transform } from '@kitmi/jsonv';\n\nexport function createJSX(_config) {\n    let _jsv;\n\n    if (_config == null) {\n        _jsv = createJSV();\n        _config = _jsv.config;\n\n        loadMoreTransformers(_config);\n    } else {\n        _jsv = createJSV(_config);\n    }\n\n    /**\n     * JSON eXpression Syntax\n     * @class\n     */\n    class JSX {\n        static get JSV() {\n            return _jsv;\n        }\n\n        static get config() {\n            return _config;\n        }\n\n        static evaluate(value, jsx, context) {\n            return transform(value, jsx, { config: this.config, ...context });\n        }\n\n        /**\n         * @param {object} value\n         */\n        constructor(value) {\n            this.value = value;\n        }\n\n        /**\n         * Evaluate a JSON expression against the value and update the value\n         * @param {object} - JSON operation expression\n         * @returns {JSX}\n         */\n        evaluate(jsx) {\n            this.value = transform(this.value, jsx, { config: this.constructor.config });\n            return this;\n        }\n    }\n\n    return JSX;\n}\n\nloadMoreTransformers(config);\n\nconst defaultJSX = createJSX(config);\n\nexport default defaultJSX;\n"],"names":["createJSX","_config","_jsv","createJSV","config","loadMoreTransformers","JSX","JSV","evaluate","value","jsx","context","transform","constructor","defaultJSX"],"mappings":";;;;;;;;;;;IAIgBA,SAAS;eAATA;;IAsDhB,OAA0B;eAA1B;;;+DA1DmB;qEACc;uBACI;;;;;;AAE9B,SAASA,UAAUC,OAAO;IAC7B,IAAIC;IAEJ,IAAID,WAAW,MAAM;QACjBC,OAAOC,IAAAA,gBAAS;QAChBF,UAAUC,KAAKE,MAAM;QAErBC,IAAAA,qBAAoB,EAACJ;IACzB,OAAO;QACHC,OAAOC,IAAAA,gBAAS,EAACF;IACrB;IAEA;;;KAGC,GACD,MAAMK;QACF,WAAWC,MAAM;YACb,OAAOL;QACX;QAEA,WAAWE,SAAS;YAChB,OAAOH;QACX;QAEA,OAAOO,SAASC,KAAK,EAAEC,GAAG,EAAEC,OAAO,EAAE;YACjC,OAAOC,IAAAA,gBAAS,EAACH,OAAOC,KAAK;gBAAEN,QAAQ,IAAI,CAACA,MAAM;gBAAE,GAAGO,OAAO;YAAC;QACnE;QASA;;;;SAIC,GACDH,SAASE,GAAG,EAAE;YACV,IAAI,CAACD,KAAK,GAAGG,IAAAA,gBAAS,EAAC,IAAI,CAACH,KAAK,EAAEC,KAAK;gBAAEN,QAAQ,IAAI,CAACS,WAAW,CAACT,MAAM;YAAC;YAC1E,OAAO,IAAI;QACf;QAfA;;SAEC,GACDS,YAAYJ,KAAK,CAAE;YACf,IAAI,CAACA,KAAK,GAAGA;QACjB;IAWJ;IAEA,OAAOH;AACX;AAEAD,IAAAA,qBAAoB,EAACD,eAAM;AAE3B,MAAMU,aAAad,UAAUI,eAAM;MAEnC,WAAeU"}