{"version":3,"sources":["../src/batchAsync_.js"],"sourcesContent":["import isPlainObject from './isPlainObject';\n\n/**\n * Walk through each entry of an array of an object parallelly, faster than eachAsync_\n * @alias collection.batchAsync_\n * @async\n * @param {Array|Object} obj\n * @param {asyncIterator} iterator\n * @returns {Promise.<Array|Object>}\n */\nasync function batchAsync_(obj, iterator) {\n    if (Array.isArray(obj)) {\n        const r = [];\n\n        let l = obj.length;\n        for (let i = 0; i < l; i++) {\n            r.push(iterator(obj[i], i, obj));\n        }\n\n        return Promise.all(r);\n    }\n\n    if (isPlainObject(obj)) {\n        const keys = [];\n        const values = [];\n\n        for (let k in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, k)) {\n                keys.push(k);\n                values.push(iterator(obj[k], k, obj));\n            }\n        }\n\n        const result = await Promise.all(values);\n        return keys.reduce((r, k, i) => {\n            r[k] = result[i];\n            return r;\n        }, {});\n    }\n\n    return Promise.reject('Invalid argument!');\n}\n\nexport default batchAsync_;\n"],"names":["batchAsync_","obj","iterator","Array","isArray","r","l","length","i","push","Promise","all","isPlainObject","keys","values","k","Object","prototype","hasOwnProperty","call","result","reduce","reject"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BA2CA;;;eAAA;;;sEA3C0B;;;;;;AAE1B;;;;;;;CAOC,GACD,eAAeA,YAAYC,GAAG,EAAEC,QAAQ;IACpC,IAAIC,MAAMC,OAAO,CAACH,MAAM;QACpB,MAAMI,IAAI,EAAE;QAEZ,IAAIC,IAAIL,IAAIM,MAAM;QAClB,IAAK,IAAIC,IAAI,GAAGA,IAAIF,GAAGE,IAAK;YACxBH,EAAEI,IAAI,CAACP,SAASD,GAAG,CAACO,EAAE,EAAEA,GAAGP;QAC/B;QAEA,OAAOS,QAAQC,GAAG,CAACN;IACvB;IAEA,IAAIO,IAAAA,sBAAa,EAACX,MAAM;QACpB,MAAMY,OAAO,EAAE;QACf,MAAMC,SAAS,EAAE;QAEjB,IAAK,IAAIC,KAAKd,IAAK;YACf,IAAIe,OAAOC,SAAS,CAACC,cAAc,CAACC,IAAI,CAAClB,KAAKc,IAAI;gBAC9CF,KAAKJ,IAAI,CAACM;gBACVD,OAAOL,IAAI,CAACP,SAASD,GAAG,CAACc,EAAE,EAAEA,GAAGd;YACpC;QACJ;QAEA,MAAMmB,SAAS,MAAMV,QAAQC,GAAG,CAACG;QACjC,OAAOD,KAAKQ,MAAM,CAAC,CAAChB,GAAGU,GAAGP;YACtBH,CAAC,CAACU,EAAE,GAAGK,MAAM,CAACZ,EAAE;YAChB,OAAOH;QACX,GAAG,CAAC;IACR;IAEA,OAAOK,QAAQY,MAAM,CAAC;AAC1B;MAEA,WAAetB"}